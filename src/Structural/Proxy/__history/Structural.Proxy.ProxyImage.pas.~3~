unit Structural.Proxy.ProxyImage;

interface

uses
  Structural.Proxy.ImagemBase,
  Structural.Proxy.RealImage;

  type
    TProxyImage = class(TImagemBase)
    private
      FNomeArquivo: string;
      FRealImage: TRealImage;
    public
      constructor Create(const ANomeArquivo: string);
      destructor Destroy; override;

      procedure Exibir; override;
  end;


implementation

{ TProxyImage }

constructor TProxyImage.Create(const ANomeArquivo: string);
begin
  inherited Create;
  FNomeArquivo := ANomeArquivo;
  FRealImage := nil;
end;

destructor TProxyImage.Destroy;
begin
  FRealImage.Free;
  inherited;
end;

procedure TProxyImage.Exibir;
begin
  if FRealImage = nil then
    FRealImage := TRealImage.Create(FNomeArquivo);

  FRealImage.Exibir;
end;

end.
