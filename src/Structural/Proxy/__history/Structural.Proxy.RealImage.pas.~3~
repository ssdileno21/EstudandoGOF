unit Structural.Proxy.RealImage;

interface

uses
  System.SysUtils,
  Vcl.Dialogs,
  Vcl.ExtCtrls,
  Structural.Proxy.ImagemBase;

  type
    TRealImage = class(TImagemBase)
    private
      FNomeArquivo: string;
      FTarget: TImage;
      procedure CarregarDoDisco;
    public
      constructor Create(const ANomeArquivo: string);
      procedure Exibir; override;
   end;


implementation

{ TRealImage }

procedure TRealImage.CarregarDoDisco;
begin
  if FTarget = nil then
    Exit;

  if not FileExists(FNomeArquivo) then
  begin
    ShowMessage('Arquivo de imagem não encontrado: ' + FNomeArquivo);
    Exit;
  end;

  // aqui é o "carregar do disco" de verdade
  FTarget.Picture.LoadFromFile(FNomeArquivo);
  ShowMessage('Carregando imagem do disco: ' + FNomeArquivo);
end;

constructor TRealImage.Create(const ANomeArquivo: string);
begin
  inherited Create;
  FNomeArquivo := ANomeArquivo;
  CarregarDoDisco;
end;

procedure TRealImage.Exibir;
begin
  ShowMessage('Exibindo imagem: ' + FNomeArquivo);
end;

end.
