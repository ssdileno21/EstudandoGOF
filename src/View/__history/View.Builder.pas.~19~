unit View.Builder;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, View.Default, Vcl.StdCtrls, Vcl.ExtCtrls;

type
  TfrmBuilder = class(TfrmDefault)
    GroupBox1: TGroupBox;
    Panel2: TPanel;
    Panel1: TPanel;
    btnCancelarHamburguer: TButton;
    btnMontarFishburguer: TButton;
    btnMontarHamburguer: TButton;
    btnCancelarFishburguer: TButton;
    mHamburguer: TMemo;
    mFishburguer: TMemo;
    procedure btnCancelarFishburguerClick(Sender: TObject);
  private
    { Private declarations }
    procedure MontarHamburguer;
    procedure Montarfishburguer;
  public
    { Public declarations }
  end;

var
  frmBuilder: TfrmBuilder;

implementation

{$R *.dfm}

uses Builder.Cozinha, Builder.FishBuilder, Builder.HamburguerBuilder,
  Builder.Sanduiche, Builder.SanduicheBuilder;

{ TfrmBuilder }

procedure TfrmBuilder.btnCancelarFishburguerClick(Sender: TObject);
begin
  inherited;
  Montarfishburguer;
end;

procedure TfrmBuilder.Montarfishburguer;
var
  LCozinha: TCozinha;
  LSanduicheBuilder: TSanduicheBuilder;
  LSanduiche: TSanduiche;
begin
  LCozinha := TCozinha.Create;
  try
    LSanduicheBuilder := TFishBuilder.Create;
    try
      LCozinha.FazSanduiche(LSanduicheBuilder);
      LSanduiche := LSanduicheBuilder.GetSanduiche;
      mFishburguer.Lines.Clear;
      mFishburguer.Lines.Add(LSanduiche.ResumoPedido);
    finally
      FreeAndNil(LSanduiche);
      FreeAndNil(LSanduicheBuilder);
    end;
  finally
    FreeAndNil(LCozinha);
  end;
end;

procedure TfrmBuilder.MontarHamburguer;
var
  LCozinha: TCozinha;
  LSanduicheBuilder: TSanduicheBuilder;
  LSanduiche: TSanduiche;
begin
  LCozinha := TCozinha.Create;
  try
    LSanduicheBuilder := THamburguerBuilder.Create;
    try
      LCozinha.FazSanduiche(LSanduicheBuilder);
      LSanduiche := LSanduicheBuilder.GetSanduiche;
      mHamburguer.Lines.Clear;
      mHamburguer.Lines.Add(LSanduiche.ResumoPedido);
    finally
      FreeAndNil(LSanduiche);
      FreeAndNil(LSanduicheBuilder);
    end;
  finally
    FreeAndNil(LCozinha);
  end;

end;

end.
